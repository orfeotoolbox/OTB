#!/bin/sh
#
# Copyright (C) 2005-2019 Centre National d'Etudes Spatiales (CNES)
#
# This file is part of Orfeo Toolbox
#
#     https://www.orfeo-toolbox.org/
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

#
# Autogenerated by OTB installation process
# DO NOT MODIFY
#

CURRENT_SCRIPT_DIR=$(dirname "$0")

if [ -e "$CURRENT_SCRIPT_DIR/otbApplicationLauncherCommandLine" ]
then
  # Prefer using the launcher inside the script dir
  OTB_CLI_LAUNCHER=$CURRENT_SCRIPT_DIR/otbApplicationLauncherCommandLine
else
  # Use the one from the PATH
  OTB_CLI_LAUNCHER=otbApplicationLauncherCommandLine
fi

# avoid numerical issues caused by locale
export LC_NUMERIC=C

# Export GDAL_DATA
# Note that OTB_APPLICATION_PATH is reset here.
if [ -f "$CURRENT_SCRIPT_DIR/../otbenv.profile" ]; then
    . "$CURRENT_SCRIPT_DIR/../otbenv.profile"
else
    # works for install tree
    if [ -d "$CURRENT_SCRIPT_DIR/../@OTB_INSTALL_APP_DIR@" ]; then
	OTB_APPLICATION_PATH=$CURRENT_SCRIPT_DIR/../@OTB_INSTALL_APP_DIR@:$OTB_APPLICATION_PATH
    fi
    # export it to make it available to otbApplicationLauncherCommandLine environment
    export OTB_APPLICATION_PATH
fi

# start the application
$OTB_CLI_LAUNCHER "$@"
